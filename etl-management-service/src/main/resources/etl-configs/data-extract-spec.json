{
  "connector": {
    "type": "jdbc",
    "data": {
      "dbType": "postgresql",
      "host": "etl-postgres-db",
      "port": 5432,
      "database": "etl",
      "user": "etl",
      "password": "etl"
    }
  },
  "streams": [
    {
      "name": "positions-stream-1",
      "query": {
        "sql": "select id, position_name, position_code from ext.positions where updated_at > :last_run_at",
        "parameters": []
      },
      "parser": {
        "type": "jdbc",
        "mappings": [
          {
            "column": "id",
            "type": "integer",
            "validator": {
              "required": true
            },
            "targetAttribute": "id"
          },
          {
            "column": "position_name",
            "type": "string",
            "validator": {
              "required": true,
              "maxLength": 100
            },
            "targetAttribute": "positionName"
          },
          {
            "column": "position_code",
            "type": "string",
            "validator": {
              "required": true,
              "maxLength": 10
            },
            "targetAttribute": "positionCode"
          }
        ]
      }
    }
  ]
}

